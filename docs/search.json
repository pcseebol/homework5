[
  {
    "objectID": "homework5.html",
    "href": "homework5.html",
    "title": "Homework5",
    "section": "",
    "text": "library('dplyr')\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary('tidyr')\nlibrary('ggplot2')\nThis homework will focus of exploratory data analyses using school data from the UCI machine learning databases. First, we start by accessing the data using the provided R code in the repository:"
  },
  {
    "objectID": "homework5.html#reading-in-the-data",
    "href": "homework5.html#reading-in-the-data",
    "title": "Homework5",
    "section": "Reading in the data",
    "text": "Reading in the data\n\n# start by using their provided read-in code\nd1=read.table(\"student-mat.csv\",sep=\";\",header=TRUE)\nd2=read.table(\"student-por.csv\",sep=\";\",header=TRUE)\n\nd3=merge(d1,d2,by=c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"nursery\",\"internet\")) \nprint(nrow(d3)) # 382 students ```\n\n[1] 382\n\n\nNow we’ll do the same thing but using our own methods:\n\n# using the tidyverse\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ readr     2.1.4\n✔ lubridate 1.9.2     ✔ stringr   1.5.0\n✔ purrr     1.0.1     ✔ tibble    3.2.1\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\ndf1 = read_delim(\"student-mat.csv\", \";\")\n\nRows: 395 Columns: 33\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\ndf2 = read_delim(\"student-por.csv\", \";\")\n\nRows: 649 Columns: 33\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\ndf3 = inner_join(df1,df2,by=c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"nursery\",\"internet\"))\n\nWarning in inner_join(df1, df2, by = c(\"school\", \"sex\", \"age\", \"address\", : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 79 of `x` matches multiple rows in `y`.\nℹ Row 79 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\n\nThe issue here is that we have an unexpected many-to-many relationship between our x and y datasets. This is not a good sign for our data uniqueness, and suggests we need to do a better job of grouping our variables in the inner_join() call. We can correct this by making sure we join by all variables except the five specified below, which will help us avoid variables with .x and .y specifiers.\n\n# now do the inner_join on everything except G1, G2, G3, paid, and absence\nnames = colnames(df1) # use one of the single dfs as our list of names\nnames = tibble(name = names) # set up for filtering\nreject = c(\"G1\",\"G2\",\"G3\",\"paid\",\"absence\") # the ones we want to remove\nnames = names |&gt;\n  filter(!name %in% reject) # now name_list has our row_names\nnames = names$name\n\ncombined_df = inner_join(df1,df2, by = names)\n\nNow we see that we only have 85 observations across our variables, which means that we were previously getting too many individuals within our groupings. Now we grab four variables of interest from both df1 (math), df2 (port), and combined. We’ll rename these dfs for ease of reference\n\nmat = df1\nport = df2\n\nNow, lets grab those four variables of interest and make them factors. We’ll go with family-related variables:\n\nmat = mat |&gt; # mutate with factor to add new variables; add better labels for edu\n  mutate(Mjob_f = factor(Mjob),\n         Fjob_f = factor(Fjob),\n         Medu_f = factor(Medu, levels = c('0','1','2','3','4'), labels = c('No Education','Primary Education (4th Grade)', 'Grades 5-9','Secondary Education','Higher Education')),\n         Fedu_f = factor(Fedu, levels = c('0','1','2','3','4'), labels = c('No Education','Primary Education (4th Grade)', 'Grades 5-9','Secondary Education','Higher Education')))\nlevels(mat$Medu_f)\n\n[1] \"No Education\"                  \"Primary Education (4th Grade)\"\n[3] \"Grades 5-9\"                    \"Secondary Education\"          \n[5] \"Higher Education\"             \n\nport = port |&gt; # repeat mutates for port\n  mutate(Mjob_f = factor(Mjob),\n         Fjob_f = factor(Fjob),\n         Medu_f = factor(Medu, levels = c('0','1','2','3','4'), labels = c('No Education','Primary Education (4th Grade)', 'Grades 5-9','Secondary Education','Higher Education')),\n         Fedu_f = factor(Fedu, levels = c('0','1','2','3','4'), labels = c('No Education','Primary Education (4th Grade)', 'Grades 5-9','Secondary Education','Higher Education')))\n\ncombined_df = combined_df |&gt; # and again for combined_df\n  mutate(Mjob_f = factor(Mjob),\n         Fjob_f = factor(Fjob),\n         Medu_f = factor(Medu, levels = c('0','1','2','3','4'), labels = c('No Education','Primary Education (4th Grade)', 'Grades 5-9','Secondary Education','Higher Education')),\n         Fedu_f = factor(Fedu, levels = c('0','1','2','3','4'), labels = c('No Education','Primary Education (4th Grade)', 'Grades 5-9','Secondary Education','Higher Education')))"
  },
  {
    "objectID": "homework5.html#categorical-variable-step-1",
    "href": "homework5.html#categorical-variable-step-1",
    "title": "Homework5",
    "section": "Categorical Variable Step 1",
    "text": "Categorical Variable Step 1\nFrom here on, we will only focus on the combined data. We will start out by doing some EDA with the categorical variables:\n\n# start with a one way, two way, and three way contingency table using table()\ntable(combined_df$Medu_f, useNA = \"always\")\n\n\n                 No Education Primary Education (4th Grade) \n                            2                            12 \n                   Grades 5-9           Secondary Education \n                           23                            12 \n             Higher Education                          &lt;NA&gt; \n                           36                             0 \n\ntable(combined_df$Medu_f, combined_df$Fedu_f, useNA = \"always\")\n\n                               \n                                No Education Primary Education (4th Grade)\n  No Education                             0                             0\n  Primary Education (4th Grade)            0                             9\n  Grades 5-9                               0                             4\n  Secondary Education                      0                             0\n  Higher Education                         0                             0\n  &lt;NA&gt;                                     0                             0\n                               \n                                Grades 5-9 Secondary Education Higher Education\n  No Education                           2                   0                0\n  Primary Education (4th Grade)          3                   0                0\n  Grades 5-9                            14                   2                3\n  Secondary Education                    4                   4                4\n  Higher Education                       6                  12               18\n  &lt;NA&gt;                                   0                   0                0\n                               \n                                &lt;NA&gt;\n  No Education                     0\n  Primary Education (4th Grade)    0\n  Grades 5-9                       0\n  Secondary Education              0\n  Higher Education                 0\n  &lt;NA&gt;                             0\n\ntable(combined_df$Medu_f, combined_df$Fedu_f, combined_df$Fjob_f, useNA = \"always\")\n\n, ,  = at_home\n\n                               \n                                No Education Primary Education (4th Grade)\n  No Education                             0                             0\n  Primary Education (4th Grade)            0                             0\n  Grades 5-9                               0                             0\n  Secondary Education                      0                             0\n  Higher Education                         0                             0\n  &lt;NA&gt;                                     0                             0\n                               \n                                Grades 5-9 Secondary Education Higher Education\n  No Education                           1                   0                0\n  Primary Education (4th Grade)          1                   0                0\n  Grades 5-9                             2                   0                0\n  Secondary Education                    0                   0                0\n  Higher Education                       0                   1                0\n  &lt;NA&gt;                                   0                   0                0\n                               \n                                &lt;NA&gt;\n  No Education                     0\n  Primary Education (4th Grade)    0\n  Grades 5-9                       0\n  Secondary Education              0\n  Higher Education                 0\n  &lt;NA&gt;                             0\n\n, ,  = health\n\n                               \n                                No Education Primary Education (4th Grade)\n  No Education                             0                             0\n  Primary Education (4th Grade)            0                             0\n  Grades 5-9                               0                             0\n  Secondary Education                      0                             0\n  Higher Education                         0                             0\n  &lt;NA&gt;                                     0                             0\n                               \n                                Grades 5-9 Secondary Education Higher Education\n  No Education                           0                   0                0\n  Primary Education (4th Grade)          0                   0                0\n  Grades 5-9                             0                   0                2\n  Secondary Education                    1                   1                1\n  Higher Education                       0                   0                2\n  &lt;NA&gt;                                   0                   0                0\n                               \n                                &lt;NA&gt;\n  No Education                     0\n  Primary Education (4th Grade)    0\n  Grades 5-9                       0\n  Secondary Education              0\n  Higher Education                 0\n  &lt;NA&gt;                             0\n\n, ,  = other\n\n                               \n                                No Education Primary Education (4th Grade)\n  No Education                             0                             0\n  Primary Education (4th Grade)            0                             4\n  Grades 5-9                               0                             3\n  Secondary Education                      0                             0\n  Higher Education                         0                             0\n  &lt;NA&gt;                                     0                             0\n                               \n                                Grades 5-9 Secondary Education Higher Education\n  No Education                           1                   0                0\n  Primary Education (4th Grade)          0                   0                0\n  Grades 5-9                             8                   1                0\n  Secondary Education                    3                   2                3\n  Higher Education                       5                   7                4\n  &lt;NA&gt;                                   0                   0                0\n                               \n                                &lt;NA&gt;\n  No Education                     0\n  Primary Education (4th Grade)    0\n  Grades 5-9                       0\n  Secondary Education              0\n  Higher Education                 0\n  &lt;NA&gt;                             0\n\n, ,  = services\n\n                               \n                                No Education Primary Education (4th Grade)\n  No Education                             0                             0\n  Primary Education (4th Grade)            0                             5\n  Grades 5-9                               0                             1\n  Secondary Education                      0                             0\n  Higher Education                         0                             0\n  &lt;NA&gt;                                     0                             0\n                               \n                                Grades 5-9 Secondary Education Higher Education\n  No Education                           0                   0                0\n  Primary Education (4th Grade)          2                   0                0\n  Grades 5-9                             4                   1                1\n  Secondary Education                    0                   1                0\n  Higher Education                       1                   4                4\n  &lt;NA&gt;                                   0                   0                0\n                               \n                                &lt;NA&gt;\n  No Education                     0\n  Primary Education (4th Grade)    0\n  Grades 5-9                       0\n  Secondary Education              0\n  Higher Education                 0\n  &lt;NA&gt;                             0\n\n, ,  = teacher\n\n                               \n                                No Education Primary Education (4th Grade)\n  No Education                             0                             0\n  Primary Education (4th Grade)            0                             0\n  Grades 5-9                               0                             0\n  Secondary Education                      0                             0\n  Higher Education                         0                             0\n  &lt;NA&gt;                                     0                             0\n                               \n                                Grades 5-9 Secondary Education Higher Education\n  No Education                           0                   0                0\n  Primary Education (4th Grade)          0                   0                0\n  Grades 5-9                             0                   0                0\n  Secondary Education                    0                   0                0\n  Higher Education                       0                   0                8\n  &lt;NA&gt;                                   0                   0                0\n                               \n                                &lt;NA&gt;\n  No Education                     0\n  Primary Education (4th Grade)    0\n  Grades 5-9                       0\n  Secondary Education              0\n  Higher Education                 0\n  &lt;NA&gt;                             0\n\n, ,  = NA\n\n                               \n                                No Education Primary Education (4th Grade)\n  No Education                             0                             0\n  Primary Education (4th Grade)            0                             0\n  Grades 5-9                               0                             0\n  Secondary Education                      0                             0\n  Higher Education                         0                             0\n  &lt;NA&gt;                                     0                             0\n                               \n                                Grades 5-9 Secondary Education Higher Education\n  No Education                           0                   0                0\n  Primary Education (4th Grade)          0                   0                0\n  Grades 5-9                             0                   0                0\n  Secondary Education                    0                   0                0\n  Higher Education                       0                   0                0\n  &lt;NA&gt;                                   0                   0                0\n                               \n                                &lt;NA&gt;\n  No Education                     0\n  Primary Education (4th Grade)    0\n  Grades 5-9                       0\n  Secondary Education              0\n  Higher Education                 0\n  &lt;NA&gt;                             0\n\n\nWe see that with so many factor levels, it can be tricky to interpret the whole table at once. It might be more valuable to investigate smaller subsets of this at a time, such as the connection between jobs and education for each parent, and cross parents for both jobs and education levels. From these tables, it is interesting to note that we have no parents with No Education, and that we have a sizable number of intersections of both higher education mothers and fathers."
  },
  {
    "objectID": "homework5.html#categorical-variables-step-2",
    "href": "homework5.html#categorical-variables-step-2",
    "title": "Homework5",
    "section": "Categorical Variables Step 2:",
    "text": "Categorical Variables Step 2:\nNext we will make a conditional two-way table with table. We’ll do this twice, by subsetting the data and by using a three-way table and then subsetting it:\n\n# first use filter() to select the values where Medu_F == \"Secondary Education\"\nsub_data = filter(combined_df, combined_df$Medu_f== \"Secondary Education\")\ntable(sub_data$Fedu_f,sub_data$Fjob_f, useNA = \"always\")\n\n                               \n                                at_home health other services teacher &lt;NA&gt;\n  No Education                        0      0     0        0       0    0\n  Primary Education (4th Grade)       0      0     0        0       0    0\n  Grades 5-9                          0      1     3        0       0    0\n  Secondary Education                 0      1     2        1       0    0\n  Higher Education                    0      1     3        0       0    0\n  &lt;NA&gt;                                0      0     0        0       0    0\n\n# then do it again as a three-way table which we index\nthree = table(combined_df$Medu_f, combined_df$Fedu_f, combined_df$Fjob_f, useNA = \"always\")\nthree[\"Secondary Education\",,] # index to make the table of Fedu_f and Fjob_f when Medu_f == \"Secondary Education\"\n\n                               \n                                at_home health other services teacher &lt;NA&gt;\n  No Education                        0      0     0        0       0    0\n  Primary Education (4th Grade)       0      0     0        0       0    0\n  Grades 5-9                          0      1     3        0       0    0\n  Secondary Education                 0      1     2        1       0    0\n  Higher Education                    0      1     3        0       0    0\n  &lt;NA&gt;                                0      0     0        0       0    0\n\n\nCool - we see here that we can make the same tables from different methods. Here, we see that for the subset of the population for whom mothers have a secondary education, the most common type of work for the father is “Other”."
  },
  {
    "objectID": "homework5.html#categorical-variable-step-3",
    "href": "homework5.html#categorical-variable-step-3",
    "title": "Homework5",
    "section": "Categorical Variable Step 3",
    "text": "Categorical Variable Step 3\nNow let’s do another contingency table using group_by() and summarize():\n\ncombined_df|&gt;\n  group_by(Medu_f, Fedu_f) |&gt;\n  summarize(count = n())|&gt;\n  pivot_wider(names_from = Medu_f, values_from = count)\n\n`summarise()` has grouped output by 'Medu_f'. You can override using the\n`.groups` argument.\n\n\n# A tibble: 4 × 6\n  Fedu_f                      `No Education` Primary Education (4…¹ `Grades 5-9`\n  &lt;fct&gt;                                &lt;int&gt;                  &lt;int&gt;        &lt;int&gt;\n1 Grades 5-9                               2                      3           14\n2 Primary Education (4th Gra…             NA                      9            4\n3 Secondary Education                     NA                     NA            2\n4 Higher Education                        NA                     NA            3\n# ℹ abbreviated name: ¹​`Primary Education (4th Grade)`\n# ℹ 2 more variables: `Secondary Education` &lt;int&gt;, `Higher Education` &lt;int&gt;\n\n\nOur table shows us that there is high overlap in education groups for both parents. For example, we see a bunch of higher education mothers and fathers, as well as numerous Grades 5-9 mothers and fathers. There is also a fair number of Higher Education fathers with Secondary Education mothers."
  },
  {
    "objectID": "homework5.html#categorical-variable-step-4",
    "href": "homework5.html#categorical-variable-step-4",
    "title": "Homework5",
    "section": "Categorical Variable Step 4",
    "text": "Categorical Variable Step 4\nNow we will do some plots!\n\nlibrary(ggplot2)\n\n# Filled bar plot showing Father education by job area\ng = ggplot(combined_df, aes(x = Mjob_f, fill = Medu_f))\ng + geom_bar() +\n  labs(x = \"Father's Job\", y = \"Counts\", title = \"Father Education across Jobs\", fill = \"Father Education Level\")\n\n\n\n\n\n\n\n\nVery cool, we see that all teachers have higher education backgrounds. Let’s go ahead and try a side-by-side plot as well:\n\n# Side-by-side bar plot showing Father job and education\ng = ggplot(combined_df, aes(x = Mjob_f, fill = Medu_f))\ng + geom_bar(position=\"dodge\") +\n  labs(x = \"Father's Job\", y = \"Counts\", title = \"Father Education across Jobs\", fill = \"Father Education Level\")\n\n\n\n\n\n\n\n\nWe now have another plot showing this same information, but in an alternate method. This version makes it easier to get the count data for each education level in each job, and shows just how many Grades 5-9 educated fathers work in Other areas."
  },
  {
    "objectID": "homework5.html#numeric-variables-step-1",
    "href": "homework5.html#numeric-variables-step-1",
    "title": "Homework5",
    "section": "Numeric Variables Step 1:",
    "text": "Numeric Variables Step 1:\nWe can now move onto our numeric variables. Let’s do three summaries of mean and sd for three vars (age, absences, and Portuguese G3) for the whole data and after subsetting to only include females:\n\n# for the whole data\ncombined_df |&gt;\n  summarize(mean_age = mean(age, na.rm = TRUE),\n            sd_age = sd(age, na.rm = TRUE),\n            mean_absences = mean(absences, na.rm = TRUE),\n            sd_absences = sd(absences, na.rm = TRUE),\n            mean_portG3 = mean(G3.y, na.rm = TRUE),\n            sd_portG3 = sd(G3.y, na.rm = TRUE))\n\n# A tibble: 1 × 6\n  mean_age sd_age mean_absences sd_absences mean_portG3 sd_portG3\n     &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;\n1     16.4   1.17          1.89        3.02        13.2      2.89\n\n# after subsetting for only females\ncombined_df |&gt;\n  subset(sex == \"F\") |&gt;\n  summarize(mean_age = mean(age, na.rm = TRUE),\n            sd_age = sd(age, na.rm = TRUE),\n            mean_absences = mean(absences, na.rm = TRUE),\n            sd_absences = sd(absences, na.rm = TRUE),\n            mean_portG3 = mean(G3.y, na.rm = TRUE),\n            sd_portG3 = sd(G3.y, na.rm = TRUE))\n\n# A tibble: 1 × 6\n  mean_age sd_age mean_absences sd_absences mean_portG3 sd_portG3\n     &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;\n1     16.5   1.07          1.92        3.15        13.4      2.44\n\n\nWe see that things look pretty similar between the whole samples and female only sample, but the G3 for Portuguese is a bit lower (~0.7) in the female only grouping. Since the SD is larger than 4 though, this might just be chance variation."
  },
  {
    "objectID": "homework5.html#numerical-variables-step-2",
    "href": "homework5.html#numerical-variables-step-2",
    "title": "Homework5",
    "section": "Numerical Variables Step 2",
    "text": "Numerical Variables Step 2\nNow let’s do the same variables but including a grouping variables:\n\n# grouping by sex\ncombined_df |&gt;\n  group_by(sex) |&gt;\n  summarize(mean_age = mean(age, na.rm = TRUE),\n            sd_age = sd(age, na.rm = TRUE),\n            mean_absences = mean(absences, na.rm = TRUE),\n            sd_absences = sd(absences, na.rm = TRUE),\n            mean_portG3 = mean(G3.y, na.rm = TRUE),\n            sd_portG3 = sd(G3.y, na.rm = TRUE),\n            .groups = 'drop') # drop grouping so we can use a different grouping on our next run\n\n# A tibble: 2 × 7\n  sex   mean_age sd_age mean_absences sd_absences mean_portG3 sd_portG3\n  &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;\n1 F         16.5   1.07          1.92        3.15        13.4      2.44\n2 M         16.3   1.29          1.86        2.85        12.9      3.45\n\n\nSame general pattern here, things look pretty similar. The SD on the Portuguese G3 is larger in females, but overall things look similar."
  },
  {
    "objectID": "homework5.html#numerical-variable-step-3",
    "href": "homework5.html#numerical-variable-step-3",
    "title": "Homework5",
    "section": "Numerical Variable Step 3",
    "text": "Numerical Variable Step 3\nNow we do it again across two grouping variables - we’ll choose sex and school:\n\ncombined_df |&gt;\n  group_by(sex,school) |&gt;\n  summarize(mean_age = mean(age, na.rm = TRUE),\n            sd_age = sd(age, na.rm = TRUE),\n            mean_absences = mean(absences, na.rm = TRUE),\n            sd_absences = sd(absences, na.rm = TRUE),\n            mean_portG3 = mean(G3.y, na.rm = TRUE),\n            sd_portG3 = sd(G3.y, na.rm = TRUE),\n            .groups = 'drop') # drop the groupings again!\n\n# A tibble: 4 × 8\n  sex   school mean_age sd_age mean_absences sd_absences mean_portG3 sd_portG3\n  &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;\n1 F     GP         16.3  1.04           2.05        3.19        13.6      2.25\n2 F     MS         17.6  0.535          1.14        3.02        12.7      3.55\n3 M     GP         15.9  0.995          1.8         2.99        13.2      2.43\n4 M     MS         18.4  0.548          2.2         2.05        11        7.28\n\n\nWith this grouping, looks like males in the MS school didn’t do as well on their portoguese as males in GP! The SD for the MS school is higher and we have fewer participants, but an interesting observation."
  },
  {
    "objectID": "homework5.html#numeric-variable-step-4",
    "href": "homework5.html#numeric-variable-step-4",
    "title": "Homework5",
    "section": "Numeric Variable Step 4",
    "text": "Numeric Variable Step 4\nNext up, we’ll make a correlation matrix across all our numeric variables:\n\ncombined_df |&gt;\n  select(age,absences,G1.x,G2.x,G3.x,G1.y,G2.y,G3.y)|&gt;\n  cor(use = \"complete.obs\")\n\n                 age     absences        G1.x         G2.x        G3.x\nage       1.00000000 -0.062652595 -0.05837369 -0.255466484 -0.30747619\nabsences -0.06265259  1.000000000  0.09252199  0.002589504  0.06483667\nG1.x     -0.05837369  0.092521993  1.00000000  0.913922548  0.82868658\nG2.x     -0.25546648  0.002589504  0.91392255  1.000000000  0.88593039\nG3.x     -0.30747619  0.064836666  0.82868658  0.885930393  1.00000000\nG1.y     -0.10878874 -0.124179909  0.69940084  0.711079431  0.64736849\nG2.y     -0.03680652 -0.124960083  0.73736749  0.765688048  0.66678829\nG3.y     -0.05646289 -0.102522477  0.70240357  0.731863436  0.62465915\n               G1.y        G2.y        G3.y\nage      -0.1087887 -0.03680652 -0.05646289\nabsences -0.1241799 -0.12496008 -0.10252248\nG1.x      0.6994008  0.73736749  0.70240357\nG2.x      0.7110794  0.76568805  0.73186344\nG3.x      0.6473685  0.66678829  0.62465915\nG1.y      1.0000000  0.92557695  0.91128059\nG2.y      0.9255769  1.00000000  0.91576651\nG3.y      0.9112806  0.91576651  1.00000000\n\n\nA lot of info there, but we can trace the 1.000 correlation down the diagonal of the matrix to see that everything is in order.Fun to see that the correlation between Portuguese grades 1, 2, and 3 (G1.y, G2.y,G3.y) appear lower than the correlations between the Math grades (G1.x, G2.x,G3.x)."
  },
  {
    "objectID": "homework5.html#numeric-variable-step-5",
    "href": "homework5.html#numeric-variable-step-5",
    "title": "Homework5",
    "section": "Numeric Variable Step 5",
    "text": "Numeric Variable Step 5\nNext up, we’ll do a histogram, kernel density plot, and boxplot for two num vars across one categorical var. We’ll do G3.x and G3.y across school:\n\n# histogram for first num var\ng = ggplot(combined_df, aes(x = G3.x, fill = school))\ng + geom_histogram(position = \"dodge\", binwidth = 0.5) + labs(title = \"Histogram of Math G3 by school\", x = \"G3 Math\", y = \"Frequency\", fill = 'School')\n\n\n\n\n\n\n\n# now the histogram for the second num var\ng = ggplot(combined_df, aes(x = G3.y, fill = school))\ng + geom_histogram(position = \"dodge\", binwidth = 0.5) + labs(title = \"Histogram of Portuguese G3 by school\", x = \"G3 Portuguese\", y = \"Frequency\", fill = 'School')\n\n\n\n\n\n\n\n# Smoothed density plot for math grades\ng = ggplot(combined_df, aes(x = G3.x, fill = school))\ng + geom_density(alpha = 0.5) + labs(title = \"Smoothed Density of Math G3 by school\", x = \"G3 Math\", y = \"Density\", fill = 'School')\n\n\n\n\n\n\n\n# Smoothed density plot for math grades\ng = ggplot(combined_df, aes(x = G3.y, fill = school))\ng + geom_density(alpha = 0.5) + labs(title = \"Smoothed Density of Portuguese G3 by school\", x = \"G3 Portuguese\", y = \"Density\", fill = 'School')\n\n\n\n\n\n\n\n# botplot for portuguese\ng = ggplot(combined_df, aes(y = G3.x, x = school, fill = school))\ng + geom_boxplot() + labs(title = \"Boxplot of Portuguese G3 by school\", x = \"G3 Portuguese\", y = \"Average Grade\")\n\n\n\n\n\n\n\n# botplot for math\ng = ggplot(combined_df, aes(y = G3.y, x = school, fill = school))\ng + geom_boxplot() + labs(title = \"Boxplot of Math G3 by school\", x = \"G3 Math\", y = \"Average Grade\")\n\n\n\n\n\n\n\n\nAgain, lots of information here! In general, we can see that there do appear to be some differences in how schools perform. School GP appears to have better math scores than MS, although we would definitely want to run some statistical comparisons before we make any conclusions from the EDA alone."
  },
  {
    "objectID": "homework5.html#numeric-variable-step-6",
    "href": "homework5.html#numeric-variable-step-6",
    "title": "Homework5",
    "section": "Numeric Variable Step 6",
    "text": "Numeric Variable Step 6\nNow we will do two scatterplots of a G3 to other numerical variables, with jitter and a categorical variable added for color:\n\n# we'll focus on math because math is awesome!\n# scatter plot number 1, 2nd var is age\ng = ggplot(combined_df, aes(y = G3.y, x = age, color = school))\ng + geom_point(position = 'jitter') + labs(title = \"Scatterplot of Math G3 by age across school\", x = \"Student Age\", y = \"Average Final Math Grade\")\n\n\n\n\n\n\n\n# And second plot with second var as absences\ng = ggplot(combined_df, aes(y = G3.y, x = absences, color = school))\ng + geom_point(position = 'jitter') + labs(title = \"Scatterplot of Math G3 by absences across school\", x = \"Number of Absences\", y = \"Average Final Math Grade\")\n\n\n\n\n\n\n\n\nTwo interesting observations here! From scatterplot one, it looks like the MS school has older students, which may account for why their math scores are higher.\nSecond, the impact of absences on the data is unclear. There are several data points that have a G3 math score of zero, and after consulting the online source, there are no missing data points for this Final Grade. This means that some students got a 0 final grade, with 0 absences, which seems strange!"
  },
  {
    "objectID": "homework5.html#numeric-variable-step-7",
    "href": "homework5.html#numeric-variable-step-7",
    "title": "Homework5",
    "section": "Numeric Variable Step 7",
    "text": "Numeric Variable Step 7\nNow we will repeat with a facet wrap to get plots at each categorical level of a new variable:\n\n# scatter plots with facet wrap for all levels of Medu \ng = ggplot(combined_df, aes(y = G3.y, x = age, color = school))\ng + geom_point(position = 'jitter') + labs(title = \"Math Grade by Age & School by Mother Edu\", x = \"Student Age\", y = \"Average Final Math Grade\") + facet_wrap(~Medu_f)\n\n\n\n\n\n\n\n# and again for absences\ng = ggplot(combined_df, aes(y = G3.y, x = absences, color = school))\ng + geom_point(position = 'jitter') + labs(title = \"Math Grade by Absences & School by Mother Edu\", x = \"Number of Absences\", y = \"Average Final Math Grade\") + facet_wrap(~Medu_f)\n\n\n\n\n\n\n\n\nThese plots are difficult to interpret any large takeaways from without further analyses, but we can see that there aren’t many students whose mother’s had no education!"
  },
  {
    "objectID": "homework5.html#numeric-variable-step-8",
    "href": "homework5.html#numeric-variable-step-8",
    "title": "Homework5",
    "section": "Numeric Variable Step 8",
    "text": "Numeric Variable Step 8\nFinally, we do this one more time with facet wrap by two variables:\n\n# scatter plots with facet wrap for all levels of Medu & Fedu \ng = ggplot(combined_df, aes(y = G3.y, x = age, color = school))\ng + geom_point(position = 'jitter') + labs(title = \"Math Grade by Age & School by Parent Edus\", x = \"Student Age\", y = \"Average Final Math Grade\") + facet_wrap(~Medu_f*Fedu_f)\n\n\n\n\n\n\n\n# and again for absences\ng = ggplot(combined_df, aes(y = G3.y, x = absences, color = school))\ng + geom_point(position = 'jitter') + labs(title = \"Math Grade by Absences & School by Parent Edus\", x = \"Number of Absences\", y = \"Average Final Math Grade\") + facet_wrap(~Medu_f*Fedu_f)\n\n\n\n\n\n\n\n\nAgain, very hard to see trends from this alone. It is interesting to see that the largest number of students with parents who both have higher education. Overall, these will be handy graphs to have if we were interesting in identifying interesting trends in this data set in the future!"
  }
]